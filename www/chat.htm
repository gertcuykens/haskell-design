<!DOCTYPE html>
<html>
    <head>
        <title>Haskell WebSockets example</title>
        <link type="text/css" href="chat.css" rel="stylesheet"/>
        <script type="text/JavaScript" src="http://code.jquery.com/jquery.min.js"></script>
        <script type="text/JavaScript" src="http.js"></script>
        <script type="text/JavaScript" src="chat.js"></script>
    </head>
    <body>
        <h1>Haskell WebSockets example</h1>
        <div id="main">
            <div id="warnings">
                Connecting
            </div>
            <div id="chat-section">
                <h2>Facebook Chat</h2>
                <div id="messages">
                </div>
            </div>
            <div id="users-section">
                <h2>Users</h2>
                <ul id="users">
                </ul>
            </div>
            <div id="profile-section">
                <h2>Profile</h2>
                <form id="profile-form" action="javascript: ws0.send(JSON.stringify(formJSON(document.forms[0])))">
                    <img id="picture" src="picture.png" alt="picture" />
                    <label>city:</label>    <br/><input name="city"   /><br/>
                    <label>country:</label> <br/><input name="country"/><br/>
                    <label>phone:</label>   <br/><input name="phone"  /><br/>
                    <label>email:</label>   <br/><input name="email"  /><br/>
                </form>
            </div>
            <div id="footer">
                <input id="text" />
                <input id="talk"   type="button" value="Send"   onclick="ws2.send($('#text').val());$('#text').val('')"/>
                <input id="update" type="button" value="Update" onclick="document.forms[0].submit()"/>
            </div>
        </div>
    </body>
</html>
